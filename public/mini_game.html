<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>
    <div class="header">
        <div class="container">
            <a href="indexx.html"><img src="assets/imgs/logo_sem_fundo_branco.png" alt="Logo"
                    style="height: var(--tamanho-header); width: 90px;"></a>
            <ul class="navbar">
                <li>
                    <a href="index.html">Início</a>
                </li>
                <li>
                    <a href="dashboard.html">Dashboard</a>
                </li>
                <li>
                    <a href="sobre_mim.html">Sobre mim</a>
                </li>
                <li>
                    <a href="mini_game.html"><b>Mini Game</b></a>
                </li>
                <li>
                    <a href="quiz.html">Quiz</a>
                </li>
            </ul>
        </div>
    </div>

    <div class="container_minigame">
        <div class="selecao">
            <select name="" id="select_personagem">
                <option value="">selecionar lutador</option>
                <option value="alex_pereira">Alex Pereira</option>
                <option value="jon_jones">Jon Jones</option>
            </select>

            <img src="" alt="" id="lutador_escolhido">

            <p id="p_lutador_escolhido"></p>

        </div>

        <div class="selecao">
            <button id="sortear_lutador" onclick="sortear_lutador()">Sortear Lutador</button>

            <img src="" alt="" id="img_lutador_sorteado">

            <p id="p_lutador_sorteado"></p>
        </div>
    </div>

    <div class="container_vencedor" id="container_vencedor"></div>

    <div class="footer">
        <div class="autor">
            <h2>Criado por Rafael Mechi de Oliveira - 04251039 &#174</h2>
        </div>
        <div class="redes_sociais">
            <a href="https://github.com/Rafael-Mechi" target="_blank">
                <i class="fab fa-github" style="font-size:50px; color: black;"></i>
            </a>
            <a href="https://www.linkedin.com/in/seu-perfil" target="_blank">
                <i class="fab fa-linkedin icone-linkedin" style="font-size:50px; color: black; margin-left: 10px;"></i>
            </a>
        </div>
    </div>
</body>

<script>
    let vitórias_usuario = 0;
    let derrotas_usuario = 0;
    let empates_usuario = 0;

    function selecionar_lutador() {
        const select = document.getElementById('select_personagem');
        const img = document.getElementById('lutador_escolhido');

        select.addEventListener('change', () => {
            const lutador = select.value;

            if (lutador === 'alex_pereira') {
                img.src = 'assets/imgs/alex_pereira.png';
                p_lutador_escolhido.innerHTML = 'Nome: <b>Alex Pereira</b><br>Estilo de luta: Kickboxing<br><br>Vitórias:12<br>Derrotas:3<br>Empates:0<br><br>Pontuação geral: <b>1800</b>';
            } else if (lutador === 'jon_jones') {
                img.src = 'assets/imgs/jon_jones.jpg';
                p_lutador_escolhido.innerHTML = 'Nome: <b>Jon Jones</b><br>Estilo de luta: MMA<br><br>Vitórias:28<br>Derrotas:1<br>Empates:0<br><br>Pontuação geral: <b>2200</b>';
            } else {
                img.src = ''; // Nenhum lutador selecionado
            }
        });
    }

    window.addEventListener('DOMContentLoaded', selecionar_lutador);

    function sortear_lutador() {
        var min = 1;
        var max = 2;
        var aux = Math.random();
        var valor = (aux * (max - min) + min).toFixed();

        if (valor == 1) {
            img_lutador_sorteado.src = 'assets/imgs/alex_pereira.png';
            p_lutador_sorteado.innerHTML = 'Nome: <b>Alex Pereira</b><br>Estilo de luta: Kickboxing<br><br>Vitórias:12<br>Derrotas:3<br>Empates:0<br><br>Pontuação geral: <b>1800</b>';
        }

        if (valor == 2) {
            img_lutador_sorteado.src = 'assets/imgs/jon_jones.jpg';
            p_lutador_sorteado.innerHTML = 'Nome: <b>Jon Jones</b><br>Estilo de luta: MMA<br><br>Vitórias:28<br>Derrotas:1<br>Empates:0<br><br>Pontuação geral: <b>2200</b>';
        }
        exibirVencedor();
    }

    function exibirVencedor() {
        const escolhido = select_personagem.value;
        const container = document.getElementById('container_vencedor');

        // Verifica se foi feito um sorteio e uma escolha
        if (!escolhido || !img_lutador_sorteado.src) {
            return; // Sai da função se faltar info
        }

        // Pontuações fictícias para comparar
        const pontuacoes = {
            alex_pereira: 1800,
            jon_jones: 2200
        };

        // Define quem ganhou
        let vencedor = '';
        let pontuacao_vencedor = 0;
        let imagem_vencedor = '';

        const sorteado = img_lutador_sorteado.src.includes('alex_pereira') ? 'alex_pereira' : 'jon_jones';

        if (pontuacoes[escolhido] > pontuacoes[sorteado]) {
            vencedor = escolhido;
            vitórias_usuario++;
        } else if (pontuacoes[sorteado] > pontuacoes[escolhido]) {
            vencedor = sorteado;
            derrotas_usuario++;
        } else {
            vencedor = 'empate';
            empates_usuario++;
        }

        if (vencedor === 'empate') {
            container.innerHTML = `<h2>Empate!</h2>`;
        } else {
            imagem_vencedor = vencedor === 'alex_pereira' ? 'imgs/alex_pereira.png' : 'imgs/jon_jones.jpg';
            pontuacao_vencedor = pontuacoes[vencedor];

            container.innerHTML = `
                <h2 style="font-size:40px">Vencedor: ${vencedor === 'alex_pereira' ? 'Alex Pereira' : 'Jon Jones'}</h2>
                <img src="${imagem_vencedor}" style="height: 250px;">
                <p style="font-size:30px"><b>Pontuação:</b> ${pontuacao_vencedor}</p>
                <div>
                    <h3 style="font-size:35px">Status do Usuário:</h3>
                    <p style="font-size:30px"><b>Vitórias:</b> ${vitórias_usuario}</p>
                    <p style="font-size:30px"><b>Derrotas:</b> ${derrotas_usuario}</p>
                    <p style="font-size:30px"><b>Empates:</b> ${empates_usuario}</p>
                </div>
            `;
        }

        container.style.display = 'block'; // Torna visível a div
    }
</script>

</html>
