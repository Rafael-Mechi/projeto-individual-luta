<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>
    <div class="header">
        <div class="container">
            <a href="menu.html"><img src="assets/imgs/logo_sem_fundo_branco.png" alt="Logo"
                    style="height: var(--tamanho-header); width: 90px;"></a>
            <ul class="navbar">
                <li>
                    <a href="menu.html">Início</a>
                </li>
                <li>
                    <a href="dashboard.html">Dashboard</a>
                </li>
                <li>
                    <a href="sobre_mim.html">Sobre mim</a>
                </li>
                <li>
                    <a href="mini_game.html">Mini Game</a>
                </li>
                <li>
                    <a href="quiz.html"><b>Quiz</b></a>
                </li>
            </ul>
        </div>
    </div>

    <div class="container_tela_quiz">
        <div class="container_questao">
            <div class="div_enunciado">
                <h3><b>1. Quantas faixas existem no jiu jitsu, incluindo até a preta?</b></h3>
            </div>
            <div class="div_alternativas">
                <input type="radio" id="q1a" name="questao_1" value="A">
                <label for="q1a">6 faixas</label><br>

                <input type="radio" id="q1b" name="questao_1" value="B">
                <label for="q1b">7 faixas</label><br>

                <input type="radio" id="q1c" name="questao_1" value="C">
                <label for="q1c">8 faixas</label><br>

                <input type="radio" id="q1d" name="questao_1" value="D">
                <label for="q1d">9 faixas</label><br>
            </div>
        </div>

        <div class="container_questao">
            <div class="div_enunciado">
                <h3><b>2. Qual dos lutadores abaixo já foi campeão duplo no UFC?</b></h3>
            </div>
            <div class="div_alternativas">
                <input type="radio" id="q2a" name="questao_2" value="A">
                <label for="q2a">José Aldo</label><br>

                <input type="radio" id="q2b" name="questao_2" value="B">
                <label for="q2b">Amanda Nunes</label><br>

                <input type="radio" id="q2c" name="questao_2" value="C">
                <label for="q2c">Nate Diaz</label><br>

                <input type="radio" id="q2d" name="questao_2" value="D">
                <label for="q2d">Charles do Bronx</label><br>
            </div>
        </div>

        <div class="container_questao">
            <div class="div_enunciado">
                <h3><b>3. Qual das artes marciais abaixo é conhecida por usar, além de socos e chutes, joelhadas e
                        cotoveladas?</b></h3>
            </div>
            <div class="div_alternativas">
                <input type="radio" id="q3a" name="questao_3" value="A">
                <label for="q3a">Karatê</label><br>

                <input type="radio" id="q3b" name="questao_3" value="B">
                <label for="q3b">Boxe</label><br>

                <input type="radio" id="q3c" name="questao_3" value="C">
                <label for="q3c">Muay Thai</label><br>

                <input type="radio" id="q3d" name="questao_3" value="D">
                <label for="q3d">Taekwondo</label><br>
            </div>
        </div>

        <div class="container_questao">
            <div class="div_enunciado">
                <h3><b>4. Qual arte marcial é conhecida pelo estilo de luta em quedas?</b></h3>
            </div>
            <div class="div_alternativas">
                <input type="radio" id="q3a" name="questao_4" value="A">
                <label for="q4a">Sambo</label><br>

                <input type="radio" id="q4b" name="questao_4" value="B">
                <label for="q4b">Krav Maga</label><br>

                <input type="radio" id="q4c" name="questao_4" value="C">
                <label for="q4c">Kickboxing</label><br>

                <input type="radio" id="q4d" name="questao_4" value="D">
                <label for="q4d">Judô</label><br>
            </div>
        </div>

        <div class="container_questao">
            <div class="div_enunciado">
                <h3><b>5. Em qual país o Muay Thai é uma arte marcial tradicional?</b></h3>
            </div>
            <div class="div_alternativas">
                <input type="radio" id="q5a" name="questao_5" value="A">
                <label for="q5a">Tailândia</label><br>

                <input type="radio" id="q5b" name="questao_5" value="B">
                <label for="q5b">Sri Lanka</label><br>

                <input type="radio" id="q5c" name="questao_5" value="C">
                <label for="q5c">Filipinas</label><br>

                <input type="radio" id="q5d" name="questao_5" value="D">
                <label for="q5d">Japão</label><br>
            </div>
        </div>

        <div class="container_questao">
            <div class="div_enunciado">
                <h3><b>6. Qual evento teve mais audiência do UFC?</b></h3>
            </div>
            <div class="div_alternativas">
                <input type="radio" id="q5a" name="questao_6" value="A">
                <label for="q6a">Jon Jones x Lyoto Machida</label><br>

                <input type="radio" id="q5b" name="questao_6" value="B">
                <label for="q6b">Andreson Silva x Vitor Belfort</label><br>

                <input type="radio" id="q5c" name="questao_6" value="C">
                <label for="q6c">McGregor x Khabib</label><br>

                <input type="radio" id="q5d" name="questao_6" value="D">
                <label for="q6d">Amanda Nunes x Ronda Rousey</label><br>
            </div>
        </div>

        <div class="container_questao">
            <div class="div_enunciado">
                <h3><b>7. A trilogia Creed é inspirada em qual estilo de luta?</b></h3>
            </div>
            <div class="div_alternativas">
                <input type="radio" id="q7a" name="questao_7" value="A">
                <label for="q7a">Jiu-Jitsu</label><br>

                <input type="radio" id="q7b" name="questao_7" value="B">
                <label for="q7b">Boxe</label><br>

                <input type="radio" id="q7c" name="questao_7" value="C">
                <label for="q7c">Ninjustu</label><br>

                <input type="radio" id="q7d" name="questao_7" value="D">
                <label for="q7d">Capoeira</label><br>
            </div>
        </div>

        <div class="container_questao">
            <div class="div_enunciado">
                <h3><b>8. Qual dos personagens abaixo de street figher luta karatê?</b></h3>
            </div>
            <div class="div_alternativas">
                <input type="radio" id="q7a" name="questao_8" value="A">
                <label for="q8a">Chun-Li</label><br>

                <input type="radio" id="q7b" name="questao_8" value="B">
                <label for="q8b">Ryu</label><br>

                <input type="radio" id="q7c" name="questao_8" value="C">
                <label for="q8c">Ken</label><br>

                <input type="radio" id="q7d" name="questao_8" value="D">
                <label for="q8d">Zangief</label><br>
            </div>
        </div>

        <div class="container_questao">
            <div class="div_enunciado">
                <h3><b>9. Qual dos golpes abaixo é popular no boxe?</b></h3>
            </div>
            <div class="div_alternativas">
                <input type="radio" id="q9a" name="questao_9" value="A">
                <label for="q9a">Cotovelada</label><br>

                <input type="radio" id="q9b" name="questao_9" value="B">
                <label for="q9b">Mata-leão</label><br>

                <input type="radio" id="q9c" name="questao_9" value="C">
                <label for="q9c">Chute na panturrilha</label><br>

                <input type="radio" id="q9d" name="questao_9" value="D">
                <label for="q9d">Direto</label><br>
            </div>
        </div>

        <div class="container_questao">
            <div class="div_enunciado">
                <h3><b>10. Qual dos animes abaixo é conhecido por ser um anime de luta?</b></h3>
            </div>
            <div class="div_alternativas">
                <input type="radio" id="q10a" name="questao_10" value="A">
                <label for="q10a">Dragon Ball</label><br>

                <input type="radio" id="q10b" name="questao_10" value="B">
                <label for="q10b">Death Note</label><br>

                <input type="radio" id="q10c" name="questao_10" value="C">
                <label for="q10c">Cells At Work</label><br>

                <input type="radio" id="q10d" name="questao_10" value="D">
                <label for="q10d">Mob Psycho</label><br>
            </div>
        </div>
        <button onclick="responder()" id="btn_responder_quiz">Responder</button>

        <div id="div_resposta_quiz"></div>
        <div id="div_resposta_img"></div>

    </div>

    <div class="footer">
        <div class="autor">
            <h2>Criado por Rafael Mechi de Oliveira - 04251039 &#174</h2>
        </div>
        <div class="redes_sociais">
            <a href="https://github.com/Rafael-Mechi" target="_blank">
                <i class="fab fa-github" style="font-size:50px; color: black;"></i>
            </a>
            <a href="https://www.linkedin.com/in/seu-perfil" target="_blank">
                <i class="fab fa-linkedin icone-linkedin" style="font-size:50px; color: black; margin-left: 10px;"></i>
            </a>
        </div>
    </div>
</body>
<script>
    var lutadores = {
        1: { nome: "Alex Pereira", img: "/assets/imgs/lutadores/alex_pereira.png", pontuacao: 2200 },
        2: { nome: "Jon Jones", img: "/assets/imgs/lutadores/jon_jones.jpg", pontuacao: 2450 },
        3: { nome: "Israel Adesanya", img: "/assets/imgs/lutadores/israel_adesanya.jpg", pontuacao: 2300 },
        4: { nome: "Conor McGregor", img: "/assets/imgs/lutadores/conor_mcgregor.jpg", pontuacao: 2100 },
        5: { nome: "Charles Oliveira", img: "/assets/imgs/lutadores/charles_oliveira.jpg", pontuacao: 2250 },
        6: { nome: "Khabib Nurmagomedov", img: "/assets/imgs/lutadores/khabib_nurmagomedov.jpg", pontuacao: 2400 },
        7: { nome: "Amanda Nunes", img: "/assets/imgs/lutadores/amanda_nunes.jpg", pontuacao: 2150 },
        8: { nome: "Mica Galvão", img: "/assets/imgs/lutadores/mica_galvao.jpg", pontuacao: 1900 },
        9: { nome: "Gordon Ryan", img: "/assets/imgs/lutadores/gordon_ryan.jpg", pontuacao: 2000 },
        10: { nome: "Roger Gracie", img: "/assets/imgs/lutadores/roger_gracie.jpg", pontuacao: 1950 },
        11: { nome: "Kayla Harrison", img: "/assets/imgs/lutadores/kayla_harrison.jpg", pontuacao: 1850 },
        12: { nome: "Demetrious Johnson", img: "/assets/imgs/lutadores/demetrious_johnson.jpg", pontuacao: 2050 },
        13: { nome: "Reinier de Ridder", img: "/assets/imgs/lutadores/reinier_de_ridder.jpg", pontuacao: 1750 }
    };

    var selectLutador = document.getElementById("lutador");
    var imgEscolhido = document.getElementById("lutador_escolhido");
    var pEscolhido = document.getElementById("p_lutador_escolhido");

    var imgSorteado = document.getElementById("img_lutador_sorteado");
    var pSorteado = document.getElementById("p_lutador_sorteado");

    selectLutador.addEventListener("change", function () {
        var id = this.value;

        if (id && lutadores[id]) {
            imgEscolhido.src = lutadores[id].img;
            imgEscolhido.alt = lutadores[id].nome;
            pEscolhido.textContent = `${lutadores[id].nome} - Pontuação: ${lutadores[id].pontuacao}`;
        } else {
            imgEscolhido.src = "";
            imgEscolhido.alt = "";
            pEscolhido.textContent = "";
        }
    });

    function sortear_lutador() {
        var min = 0;
        var max = 5;
        var aux = Math.random();
        var valorDecimal = (aux * (max - min) + min).toFixed(1);

        // Sorteio do ID do lutador inteiro entre 1 e 13
        var minId = 1;
        var maxId = 13;
        var valorId = Math.floor(Math.random() * (maxId - minId + 1)) + minId;

        var sorteado = lutadores[valorId];

        if (!sorteado) {
            alert("Erro ao sortear lutador. Tente novamente.");
            return;
        }

        imgSorteado.src = sorteado.img;
        imgSorteado.alt = sorteado.nome;
        pSorteado.textContent = `${sorteado.nome} - Pontuação: ${sorteado.pontuacao}`;

        var idUsuario = sessionStorage.ID_USUARIO;

        if (!idUsuario) {
            alert("Usuário não logado.");
            return;
        }

        var idLutadorEscolhido = selectLutador.value;

        if (!idLutadorEscolhido) {
            alert("Selecione um lutador antes de sortear.");
            return;
        }

        fetch("/miniGame/salvar_duelo", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                idUsuario: idUsuario,
                idLutadorEscolhido: idLutadorEscolhido,
                idLutadorSorteado: valorId,
                valorDecimal: valorDecimal // se quiser enviar essa info também
            })
        })
            .then(resposta => {
                if (resposta.ok) {
                    alert("Duelo salvo com sucesso!");
                } else {
                    alert("Erro ao salvar duelo.");
                }
            })
            .catch(erro => {
                console.error("Erro na requisição: ", erro);
                alert("Erro na conexão com o servidor.");
            });
    }
</script>




</html>